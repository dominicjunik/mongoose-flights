const Flights = require('../models/Flights')

module.exports.index = async (req, res) => {
    try {
        let flights = await Flights.find()
        console.log(flights)
        res.render('flights/Index', {flights})
    } catch(err) {
        console.log(err.message)
        res.redirect('/flights')
    }   
}

module.exports.new = (req, res) => {
    const newFlight = new Flights();
    res.render('flights/New', {newFlight})
}

module.exports.create = async (req, res) => {
    console.log('Create new Function')
    try {
        console.log("test1", req.body)
        let flight = await Flights.create(req.body)
        console.log("test2",flight)
    } catch (err) {
        console.log(err.message)
    }

res.redirect('/flights')
}